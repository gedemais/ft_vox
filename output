--------------------------------------------------------------------------------
Profile data file 'callgrind.out.2388184' (creator: callgrind-3.18.1)
--------------------------------------------------------------------------------
I1 cache: 
D1 cache: 
LL cache: 
Timerange: Basic block 0 - 1411940074
Trigger: Program termination
Profiled target:  ./ft_vox (PID 2388184, part 1)
Events recorded:  Ir
Events shown:     Ir
Event sort order: Ir
Thresholds:       99
Include dirs:     
User annotated:   
Auto-annotation:  on

--------------------------------------------------------------------------------
Ir                      
--------------------------------------------------------------------------------
12,596,425,475 (100.0%)  PROGRAM TOTALS

--------------------------------------------------------------------------------
Ir                      file:function
--------------------------------------------------------------------------------
2,937,790,373 (23.32%)  src/generation/caves.c:worley_noise [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
1,854,776,466 (14.72%)  src/generation/caves.c:dist [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
1,803,581,665 (14.32%)  src/generation/caves.c:get_three_lowests [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
1,399,525,798 (11.11%)  src/generation/cave_vertexs.c:check_neighbours [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  935,826,903 ( 7.43%)  ???:ft_memset [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  558,240,638 ( 4.43%)  ???:ft_memcpy [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  471,024,703 ( 3.74%)  ???:unfilterScanline [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  347,342,781 ( 2.76%)  src/generation/vertexs.c:push_plane [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  327,313,494 ( 2.60%)  ./math/../sysdeps/x86_64/fpu/s_fmin.S:fmin [/usr/lib/x86_64-linux-gnu/libm.so.6]
  137,407,143 ( 1.09%)  ???:lodepng_convert [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  124,952,006 ( 0.99%)  ???:0x000000000002e550 [/usr/lib/x86_64-linux-gnu/libGLX_mesa.so.0.0.0]
  118,600,069 ( 0.94%)  src/generation/cave_vertexs.c:generate_cave_column [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  116,981,760 ( 0.93%)  src/generation/noise.c:noise2 [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  115,439,011 ( 0.92%)  ???:dynarray_push [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
  109,104,498 ( 0.87%)  ???:0x000000000011e580 [???]
   97,800,565 ( 0.78%)  ???:lodepng_zlib_decompressv [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   83,778,370 ( 0.67%)  ???:lodepng_inflatev [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   79,058,735 ( 0.63%)  src/generation/caves.c:generate_cave_map [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   71,393,280 ( 0.57%)  src/generation/noise.c:noise2d [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   61,931,520 ( 0.49%)  src/generation/noise.c:smooth_inter [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   56,180,104 ( 0.45%)  ???:0x0000000000031b40 [/usr/lib/x86_64-linux-gnu/libGLX_mesa.so.0.0.0]
   53,496,504 ( 0.42%)  ???:check_space [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   42,593,330 ( 0.34%)  src/generation/vertexs.c:generate_fall [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   39,161,371 ( 0.31%)  ./string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:__memcpy_avx_unaligned_erms [/usr/lib/x86_64-linux-gnu/libc.so.6]
   35,785,035 ( 0.28%)  src/generation/vertexs.c:generate_side_plane [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   31,418,247 ( 0.25%)  src/generation/vertexs.c:switch_block_type [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   30,966,311 ( 0.25%)  src/singletons.c:map_seed [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   30,965,760 ( 0.25%)  src/generation/noise.c:lin_inter [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   30,822,400 ( 0.24%)  src/generation/noise.c:perlin2d_a [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   23,186,537 ( 0.18%)  ./elf/./elf/dl-lookup.c:do_lookup_x [/usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2]
   21,653,808 ( 0.17%)  ???:vec_add [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   21,595,304 ( 0.17%)  ???:0x00000000000b5250 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
   20,238,539 ( 0.16%)  ./string/../sysdeps/x86_64/multiarch/memset-vec-unaligned-erms.S:__memset_avx2_unaligned_erms [/usr/lib/x86_64-linux-gnu/libc.so.6]
   20,166,208 ( 0.16%)  ???:0x00000000000b54b0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
   18,636,328 ( 0.15%)  ./malloc/./malloc/malloc.c:_int_malloc [/usr/lib/x86_64-linux-gnu/libc.so.6]
   16,287,480 ( 0.13%)  ???:vec_fmult [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   15,703,900 ( 0.12%)  src/generation/vertexs.c:generate_top_plane [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
   14,643,043 ( 0.12%)  ./string/../sysdeps/x86_64/multiarch/strcmp-avx2.S:__strcmp_avx2 [/usr/lib/x86_64-linux-gnu/libc.so.6]
   10,268,295 ( 0.08%)  ???:0x0000000000df3580 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
   10,024,708 ( 0.08%)  src/generation/vertexs.c:generate_deep_fall [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    8,200,646 ( 0.07%)  ./elf/./elf/dl-lookup.c:_dl_lookup_symbol_x [/usr/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2]
    7,340,850 ( 0.06%)  ???:0x0000000000016fa0 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    7,335,125 ( 0.06%)  src/generation/height_map.c:generate_height_map [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    7,324,380 ( 0.06%)  ./malloc/./malloc/malloc.c:malloc [/usr/lib/x86_64-linux-gnu/libc.so.6]
    7,079,874 ( 0.06%)  ???:0x0000000000d6f990 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    6,897,660 ( 0.05%)  src/generation/generation.c:generate_surface_vertexs [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    6,219,901 ( 0.05%)  ???:HuffmanTree_makeFromLengths2 [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    6,174,550 ( 0.05%)  ???:0x0000000000013470 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    5,948,258 ( 0.05%)  ???:0x0000000000f0c520 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    5,845,431 ( 0.05%)  ???:0x0000000000e40510 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    5,796,460 ( 0.05%)  ???:0x0000000000f091a0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    5,197,014 ( 0.04%)  ./elf/../sysdeps/x86_64/dl-machine.h:_dl_relocate_object
    4,888,045 ( 0.04%)  ???:0x0000000000012e70 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    4,689,292 ( 0.04%)  ./malloc/./malloc/malloc.c:_int_free [/usr/lib/x86_64-linux-gnu/libc.so.6]
    4,094,974 ( 0.03%)  ./nptl/./nptl/pthread_mutex_lock.c:pthread_mutex_lock@@GLIBC_2.2.5 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    3,830,016 ( 0.03%)  ???:0x0000000000d6ec30 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    3,724,700 ( 0.03%)  ???:lodepng_chunk_check_crc [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    2,924,443 ( 0.02%)  ./string/../sysdeps/x86_64/multiarch/strcmp-avx2.S:__strncmp_avx2 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    2,830,738 ( 0.02%)  ./elf/./elf/do-rel.h:_dl_relocate_object
    2,812,005 ( 0.02%)  ???:0x0000000000d60f30 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    2,801,764 ( 0.02%)  ./nptl/./nptl/pthread_mutex_unlock.c:pthread_mutex_unlock@@GLIBC_2.2.5 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    2,768,946 ( 0.02%)  ???:0x0000000000163ef0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    2,765,505 ( 0.02%)  ???:0x000000000020f890 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    2,705,524 ( 0.02%)  src/generation/water.c:generate_water [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    2,525,860 ( 0.02%)  ???:0x0000000000047100 [/usr/lib/x86_64-linux-gnu/libGLX_mesa.so.0.0.0]
    2,486,686 ( 0.02%)  ???:0x0000000000e64e20 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    2,211,528 ( 0.02%)  ???:0x0000000000e400d0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    2,172,460 ( 0.02%)  ???:0x0000000000004350 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    2,105,769 ( 0.02%)  ???:0x0000000000017810 [/usr/lib/x86_64-linux-gnu/libGLX.so.0.0.0]
    2,082,511 ( 0.02%)  ???:0x000000000001a6f0 [/usr/lib/x86_64-linux-gnu/libglapi.so.0.0.0]
    2,026,240 ( 0.02%)  ???:0x000000000000aff0 [/usr/lib/x86_64-linux-gnu/libglfw.so.3.3]
    1,938,680 ( 0.02%)  ???:0x00000000000075d0 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    1,778,482 ( 0.01%)  ./string/../sysdeps/x86_64/multiarch/strlen-avx2.S:__strlen_avx2 [/usr/lib/x86_64-linux-gnu/libc.so.6]
    1,722,405 ( 0.01%)  ???:0x00000000000133c0 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    1,682,588 ( 0.01%)  ???:0x0000000000d74190 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,678,225 ( 0.01%)  ???:__glDispatchCheckMultithreaded [/usr/lib/x86_64-linux-gnu/libGLdispatch.so.0.0.0]
    1,659,877 ( 0.01%)  ???:0x0000000000de7d00 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,642,701 ( 0.01%)  ???:0x0000000000d66d50 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,638,575 ( 0.01%)  ???:0x000000000000d210 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    1,606,733 ( 0.01%)  ???:0x0000000000d6f8d0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,577,430 ( 0.01%)  ???:0x00000000000198e0 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    1,545,770 ( 0.01%)  ???:0x00000000000224c0 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    1,513,775 ( 0.01%)  ???:0x00000000000bce50 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,505,145 ( 0.01%)  ???:0x0000000000008cc0 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    1,503,756 ( 0.01%)  ???:_XVIDtoVisual [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    1,480,964 ( 0.01%)  ???:0x0000000000e3d820 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,476,880 ( 0.01%)  ???:0x000000000017ba70 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,474,198 ( 0.01%)  ???:0x0000000000ecf330 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,466,841 ( 0.01%)  ???:0x000000000020ebf0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,436,211 ( 0.01%)  ???:0x0000000000006310 [/usr/lib/x86_64-linux-gnu/libexpat.so.1.8.7]
    1,406,474 ( 0.01%)  ???:0x00000000005b7b70 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,388,502 ( 0.01%)  ???:0x0000000000d740d0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,370,804 ( 0.01%)  ???:0x0000000001073fc0 [/usr/lib/x86_64-linux-gnu/dri/iris_dri.so]
    1,369,527 ( 0.01%)  src/actions/events.c:processInput [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    1,351,998 ( 0.01%)  ???:0x000000000004bfa0 [/usr/lib/x86_64-linux-gnu/libX11.so.6.4.0]
    1,329,538 ( 0.01%)  src/generation/generation.c:generate_cave_vertexs [/mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/ft_vox]
    1,318,350 ( 0.01%)  ???:glfwGetKey [/usr/lib/x86_64-linux-gnu/libglfw.so.3.3]

--------------------------------------------------------------------------------
-- Auto-annotated source: src/generation/cave_vertexs.c
--------------------------------------------------------------------------------
Ir                   

-- line 8 ----------------------------------------
          .           								[N_UP] = (vec3){0, 1, 0},
          .           								[N_DOWN] = (vec3){0, -1, 0}
          .           								};
          .           
          .           static unsigned int		check_neighbours(t_chunk *chunk, unsigned char neighbours[N_MAX],
          .           																					unsigned int x,
          .           																					unsigned int y,
          .           																					unsigned int z)
 26,788,059 ( 0.21%)  {
          .           	// neighbours coordinates
  2,976,451 ( 0.02%)  	unsigned int	index = 0;
          .           	unsigned int	tx, ty, tz;
          .           
 14,882,255 ( 0.12%)  	ft_memset(neighbours, 0, sizeof(unsigned char) * 6);
291,692,198 ( 2.32%)  => ???:ft_memset (2,976,451x)
 65,481,922 ( 0.52%)  	for (unsigned int i = 0; i < N_MAX; i++)
          .           	{
303,598,002 ( 2.41%)  		tx = x + n[i].x;
303,598,002 ( 2.41%)  		ty = y + n[i].y;
303,598,002 ( 2.41%)  		tz = z + n[i].z;
          .           
 35,717,412 ( 0.28%)  		if (tx >= CHUNK_SIZE
 35,530,926 ( 0.28%)  			|| ty >= CAVE_DEPTH
 35,159,416 ( 0.28%)  			|| tz >= CHUNK_SIZE)
    372,068 ( 0.00%)  			continue;
          .           
262,299,570 ( 2.08%)  		if (chunk->cave_map[tx][ty][tz] == BT_STONE)
    594,360 ( 0.00%)  			neighbours[index++] = (unsigned char)i;
          .           	}
          .           
  2,976,451 ( 0.02%)  	return (index);
  5,952,902 ( 0.05%)  }
          .           
          .           unsigned char			generate_cave_column(t_chunk *chunk, unsigned int x, unsigned int z,
          .           												unsigned int x_start, unsigned int z_start)
  1,130,496 ( 0.01%)  {
     94,208 ( 0.00%)  	unsigned		plain_neighbours = 0;
          .           	unsigned char	neighbours[N_MAX];
          .           	unsigned char	code;
     94,208 ( 0.00%)  	const unsigned int		offset = 32;
          .           	vec3			a, b;
          .           	vec3			top_plane[6];
          .           
          .           	//if ((code = generate_top_plane(chunk, x_start + x, offset, z_start + z, top_plane)))
          .           	//	return (code);
          .           
 15,732,736 ( 0.12%)  	for (unsigned int y = offset; y < CAVE_DEPTH + offset; y++)
          .           	{
          .           		//printf("%d %d %d (%p)\n", x, y - offset, z, chunk->cave_map);
          .           		//fflush(stdout);
 51,249,152 ( 0.41%)  		if (chunk->cave_map[x][y - offset][z] != BT_STONE)
          .           		{
 29,764,510 ( 0.24%)  			plain_neighbours = check_neighbours(chunk, neighbours, x, y - CAVE_DEPTH, z);
1,691,217,996 (13.43%)  => src/generation/cave_vertexs.c:check_neighbours (2,976,451x)
 15,146,415 ( 0.12%)  			for (unsigned int i = 0; i < plain_neighbours; i++)
          .           			{
    264,160 ( 0.00%)  				if (neighbours[i] == N_UP)
          .           				{
    135,000 ( 0.00%)  					if ((code = generate_top_plane(chunk, x_start + x, y + 1, z_start + z, top_plane)))
 14,884,884 ( 0.12%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_top_plane (6,750x)
          .           						return (code);
          .           				}
          .           
    237,160 ( 0.00%)  				else if (neighbours[i] == N_DOWN)
          .           				{
          .           					vec3 top_plane[6];
    124,722 ( 0.00%)  					if ((code = generate_top_plane(chunk, x_start + x, y, z_start + z, top_plane)))
 24,456,451 ( 0.19%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_top_plane (6,929x)
          .           						return (code);
          .           				}
          .           
    209,444 ( 0.00%)  				else if (neighbours[i] == N_WEST)
          .           				{
    368,967 ( 0.00%)  					a = (vec3){x_start + x, y + 1, z_start + z};
    229,014 ( 0.00%)  					b = vec_add(a, (vec3){0, 0, 1});
    419,859 ( 0.00%)  => ???:vec_add (12,723x)
    254,460 ( 0.00%)  					if ((code = generate_fall(chunk, a, b, neighbours[i], y + 1, 1.0f)))
 30,123,474 ( 0.24%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_fall (12,723x)
          .           						return (code);
          .           				}
          .           
    158,552 ( 0.00%)  				else if (neighbours[i] == N_EAST)
          .           				{
    390,360 ( 0.00%)  					a = (vec3){x_start + x + 1, y + 1, z_start + z};
    234,216 ( 0.00%)  					b = vec_add(a, (vec3){0, 0, 1});
    429,396 ( 0.00%)  => ???:vec_add (13,012x)
    260,240 ( 0.00%)  					if ((code = generate_fall(chunk, a, b, neighbours[i], y + 1, 1.0f)))
 30,794,046 ( 0.24%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_fall (13,012x)
          .           						return (code);
          .           				}
          .           
    106,504 ( 0.00%)  				else if (neighbours[i] == N_NORTH)
          .           				{
    401,490 ( 0.00%)  					a = (vec3){x_start + x, y + 1, z_start + z + 1};
    240,894 ( 0.00%)  					b = vec_add(a, (vec3){1, 0, 0});
    441,639 ( 0.00%)  => ???:vec_add (13,383x)
    267,660 ( 0.00%)  					if ((code = generate_fall(chunk, a, b, neighbours[i], y + 1, 1.0f)))
 40,849,905 ( 0.32%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_fall (13,383x)
          .           						return (code);
          .           				}
          .           
     52,972 ( 0.00%)  				else if (neighbours[i] == N_SOUTH)
          .           				{
    384,047 ( 0.00%)  					a = (vec3){x_start + x, y + 1, z_start + z};
    238,374 ( 0.00%)  					b = vec_add(a, (vec3){1, 0, 0});
    437,019 ( 0.00%)  => ???:vec_add (13,243x)
    264,860 ( 0.00%)  					if ((code = generate_fall(chunk, a, b, neighbours[i], y + 1, 1.0f)))
 49,694,145 ( 0.39%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_fall (13,243x)
          .           						return (code);
          .           				}
          .           
          .           			}
          .           		}
          .           	}
     94,208 ( 0.00%)  	return (ERR_NONE);
    471,040 ( 0.00%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: src/actions/events.c
--------------------------------------------------------------------------------
Ir               

-- line 9 ----------------------------------------
      .           	TOGGLE_MAX
      .           };
      .           
      .           static t_env *g_env;
      .           
      .           // ====================================================================
      .           
      .           static bool				switch_toggles(t_env *env, bool toggles[TOGGLE_MAX], int key, bool press)
 50,808 ( 0.00%)  {
 12,702 ( 0.00%)  	uint8_t	*keys = &env->settings.keys[0];
 12,702 ( 0.00%)  	int		toggle_ids[TOGGLE_MAX] = {
 33,872 ( 0.00%)  		gl_keys_values[env->settings.keys[KEY_EXIT]],
 33,872 ( 0.00%)  		gl_keys_values[env->settings.keys[KEY_LIGHT]],
 33,872 ( 0.00%)  		gl_keys_values[env->settings.keys[KEY_SHADOW]],
      .           	};
      .           
 46,582 ( 0.00%)  	for (unsigned int i = 0; i < TOGGLE_MAX; i++)
 45,168 ( 0.00%)  		if (key == toggle_ids[i])
      .           		{
  8,466 ( 0.00%)  			if (toggles[i] && press) {
      4 ( 0.00%)  				return (false);
      .           			}
  7,040 ( 0.00%)  			toggles[i] = press;
  2,816 ( 0.00%)  			return (true);
      .           		}
  2,824 ( 0.00%)  	return (true);
 21,170 ( 0.00%)  }
      .           
      .           void					processInput(GLFWwindow *window)
  2,350 ( 0.00%)  {
      .           	static bool	toggles[TOGGLE_MAX] = { false, false};
      .           
  4,700 ( 0.00%)  	g_env->camera.sprint = glfwGetKey(g_env->window.ptr, GLFW_KEY_LEFT_SHIFT) == GLFW_PRESS;
  8,930 ( 0.00%)  => ???:0x000000000011e4a0 (470x)
117,500 ( 0.00%)  	for (int i = 0; i < NB_KEYS; i++) // Iterate through every keys
      .           	{
462,480 ( 0.00%)  		if (glfwGetKey(window, gl_keys_values[i]) == GLFW_PRESS // Is the key pressed ?
732,260 ( 0.01%)  => ???:0x000000000011e4a0 (38,540x)
  1,443 ( 0.00%)  			&& switch_toggles(g_env, toggles, gl_keys_values[i], true) // If the key is a toggle, is it released ?
  8,103 ( 0.00%)  => src/actions/events.c:switch_toggles (111x)
    763 ( 0.00%)  			&& g_env->keybinds_fts[i]) // Is a function associated with the key ?
  1,575 ( 0.00%)  			g_env->keybinds_fts[i](g_env, gl_keys_values[i]); // Then let's launch it
 13,004 ( 0.00%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/actions/live.c:move_cam (104x)
  1,570 ( 0.00%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/actions/toggles.c:event_light (1x)
462,480 ( 0.00%)  		if (glfwGetKey(window, gl_keys_values[i]) == GLFW_RELEASE // Is the key released ?
732,260 ( 0.01%)  => ???:0x000000000011e4a0 (38,540x)
269,003 ( 0.00%)  			&& g_env->keybinds_fts[i]) // Is a function associated with the key ?
 45,353 ( 0.00%)  			switch_toggles(g_env, toggles, gl_keys_values[i], false); // Makes toggles available again.
303,795 ( 0.00%)  => src/actions/events.c:switch_toggles (4,123x)
      .           	}
  1,880 ( 0.00%)  }
      .           
      .           // ====================================================================
      .           
      .           static void				cb_cursor_position(GLFWwindow *window, double xpos, double ypos)
  1,008 ( 0.00%)  {
    864 ( 0.00%)  	glfwGetCursorPos(window, &xpos, &ypos);
  3,600 ( 0.00%)  => ???:0x000000000011e640 (144x)
  1,584 ( 0.00%)  	events_mouse(g_env, (float)xpos, (float)ypos);
 55,320 ( 0.00%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/actions/live.c:events_mouse (144x)
    432 ( 0.00%)  }
      .           
      .           static void				cb_framebuffer_size(GLFWwindow *window, int width, int height)
     14 ( 0.00%)  {
      .           	(void)window;
      .           
     12 ( 0.00%)  	reset_viewport(window, width, height);
 14,772 ( 0.00%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/utils/viewport.c:reset_viewport (2x)
      .           
      6 ( 0.00%)  	g_env->settings.w_wdt = (uint16_t)width;
      6 ( 0.00%)  	g_env->settings.w_hgt = (uint16_t)height;
      .           
      6 ( 0.00%)  	g_env->window.w = width;
      6 ( 0.00%)  	g_env->window.h = height;
     14 ( 0.00%)  	g_env->camera.ratio = (float)width / (float)height;
      .           
      6 ( 0.00%)  }
      .           
      .           static float			clamp(float min, float max, float val)
      .           {
      .           	float	delta;
      .           
      .           	delta = max - min;
      .           	return (val / delta);
      .           }
-- line 83 ----------------------------------------
-- line 90 ----------------------------------------
      .           	g_env->camera.fov = g_env->camera.fov > 90 ? 90 : g_env->camera.fov;
      .           	g_env->camera.fov = g_env->camera.fov < 1 ? 1 : g_env->camera.fov;
      .           	g_env->mouse.sensitivity = g_env->mouse.base_sensitivity * clamp(1.0f, 90.0f, g_env->camera.fov);
      .           }
      .           
      .           // ====================================================================
      .           
      .           void 					glfw_init_callbacks(t_env *env)
      5 ( 0.00%)  {
      2 ( 0.00%)  	g_env = env;
      5 ( 0.00%)  	glfwSetCursorPosCallback(env->window.ptr, cb_cursor_position);
     13 ( 0.00%)  => ???:0x000000000011e450 (1x)
      5 ( 0.00%)  	glfwSetFramebufferSizeCallback(env->window.ptr, cb_framebuffer_size);
     13 ( 0.00%)  => ???:0x000000000011e480 (1x)
      .           	// glfwSetWindowFocusCallback(env->window.ptr, cb_window_focus);
      5 ( 0.00%)  	glfwSetScrollCallback(env->window.ptr, cb_scroll);
     13 ( 0.00%)  => ???:0x000000000011e570 (1x)
      3 ( 0.00%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: src/generation/generation.c
--------------------------------------------------------------------------------
Ir                 

        .           # include "main.h"
        .           
        .           static bool				is_chunk_on_border(t_env *env, int x_start, int z_start)
      420 ( 0.00%)  {
       70 ( 0.00%)  	const int	last = SQUARE_SIZE - 1;
        .           
      140 ( 0.00%)  	return  (env->model.chunks[0][0].x_start == x_start
      224 ( 0.00%)  			|| env->model.chunks[0][0].z_start == z_start
      672 ( 0.00%)  			|| env->model.chunks[last][last].x_start == x_start
      830 ( 0.00%)  			|| env->model.chunks[last][last].z_start == z_start);
      140 ( 0.00%)  }
        .           
        .           static unsigned char	generate_cave_vertexs(t_chunk *chunk, int x_start, int z_start)
      161 ( 0.00%)  {
        .           	unsigned char	code;
        .           
    4,508 ( 0.00%)  	for (unsigned int x = 0; x < CHUNK_SIZE; x++)
  288,512 ( 0.00%)  		for (unsigned int z = 0; z < CHUNK_SIZE; z++)
        .           		{
1,036,288 ( 0.01%)  			if ((code = generate_cave_column(chunk, x, z, x_start, z_start)))
2,002,348,883 (15.90%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/cave_vertexs.c:generate_cave_column (94,208x)
        .           				return (code);
        .           		}
        .           
       23 ( 0.00%)  	return (ERR_NONE);
       46 ( 0.00%)  }
        .           
        .           
        .           static unsigned char	generate_surface_vertexs(t_chunk *chunk, int x_start, int z_start)
      350 ( 0.00%)  {
        .           	unsigned int	y;
        .           	vec3			top_plane[6];
        .           	unsigned char	code;
        .           
    6,860 ( 0.00%)  	for (unsigned int x = 0; x < CHUNK_SIZE; x++)
  439,040 ( 0.00%)  		for (unsigned int z = 0; z < CHUNK_SIZE; z++)
        .           		{
1,576,960 ( 0.01%)  			y = chunk->surface_hmap[x][z];
        .           
2,580,480 ( 0.02%)  			if ((code = generate_top_plane(chunk, x + x_start, y, z + z_start, top_plane)) != ERR_NONE
421,187,646 ( 3.34%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_top_plane (143,360x)
2,293,760 ( 0.02%)  				|| (code = generate_side_plane(chunk, chunk->surface_hmap, x, y, z, CHUNK_SIZE, top_plane)) != ERR_NONE)
766,539,790 ( 6.09%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:generate_side_plane (143,360x)
        .           				return (code);
        .           		}
       35 ( 0.00%)  	return (ERR_NONE);
      175 ( 0.00%)  }
        .           
        .           static unsigned char	generate_vertexs(t_env *env, t_chunk *chunk, int x_start, int z_start)
      280 ( 0.00%)  {
        .           	unsigned char	code;
        .           
      315 ( 0.00%)  	if ((code = generate_surface_vertexs(chunk, x_start, z_start)))
1,194,625,096 ( 9.48%)  => src/generation/generation.c:generate_surface_vertexs (35x)
        .           		return (code);
        .           
      315 ( 0.00%)  	if (!is_chunk_on_border(env, x_start, z_start)
    1,248 ( 0.00%)  => src/generation/generation.c:is_chunk_on_border (35x)
      108 ( 0.00%)  		&& (code = generate_cave_vertexs(chunk, x_start, z_start)) != ERR_NONE)
1,064,773,141 ( 8.45%)  => src/generation/generation.c:generate_cave_vertexs (12x)
        .           		return (code);
        .           
       35 ( 0.00%)  	return (ERR_NONE);
       70 ( 0.00%)  }
        .           
        .           unsigned char	generate_last_caves(t_env *env)
       10 ( 0.00%)  {
        .           	t_chunk			*chunk;
        .           	unsigned char	code;
        .           
       17 ( 0.00%)  	for (unsigned int x = 1; x < SQUARE_SIZE - 1; x++)
       49 ( 0.00%)  		for (unsigned int z = 1; z < SQUARE_SIZE - 1; z++)
        .           		{
      156 ( 0.00%)  			chunk = &env->model.chunks[x][z];
        .           
       48 ( 0.00%)  			if (chunk->cave_map == NULL)
       33 ( 0.00%)  				if ((code = generate_cave_map(env, chunk, CAVE_DEPTH)) != ERR_NONE)
1,673,306,099 (13.28%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/caves.c:generate_cave_map (4x)
        .           					return (code);
        .           
      121 ( 0.00%)  			if ((code = generate_cave_vertexs(chunk, chunk->x_start, chunk->z_start)) != ERR_NONE)
938,905,280 ( 7.45%)  => src/generation/generation.c:generate_cave_vertexs (11x)
        .           				return (code);
        .           		}
        1 ( 0.00%)  	return (ERR_NONE);
        2 ( 0.00%)  }
        .           
        .           static unsigned char	generate_chunk_content(t_env *env, t_chunk *chunk, int x_start, int z_start, bool stride)
      350 ( 0.00%)  {
        .           	unsigned char	code;
      280 ( 0.00%)  	t_biome_params	surface_params = {0.02f, 6.0f, 0.0f, 0.0f};
      280 ( 0.00%)  	t_biome_params	sub_params = {0.05f, 6.0f, 0.0f, 40.0f};
        .           
      105 ( 0.00%)  	chunk->x_start = x_start;
      105 ( 0.00%)  	chunk->z_start = z_start;
        .           
        .           	(void)env;
      140 ( 0.00%)  	if (!chunk->surface_hmap || !chunk->cave_map)
        .           	{
        .           		// Load parameters for the current chunk
        .           		//printf("frequency : %f | depth : %f\n", params.frequency, params.depth);
        .           		// Generate height maps for surface and cave
        .           		// Topography type should be a parameter which would affect perlin noise generation
      560 ( 0.00%)  		if (!(chunk->surface_hmap = generate_height_map(surface_params, x_start, z_start, CHUNK_SIZE, 40)))
351,203,217 ( 2.79%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/height_map.c:generate_height_map (35x)
        .           			return (ERR_MALLOC_FAILED);
        .           
      423 ( 0.00%)  		if (!is_chunk_on_border(env, x_start, z_start) && (code = generate_cave_map(env, chunk, CAVE_DEPTH)))
5,840,201,772 (46.36%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/caves.c:generate_cave_map (12x)
    1,248 ( 0.00%)  => src/generation/generation.c:is_chunk_on_border (35x)
        .           			return (code);
      315 ( 0.00%)  		else if ((code = init_worley_points(env, chunk, CAVE_DEPTH)))
  270,550 ( 0.00%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/caves.c:init_worley_points (35x)
        .           			return (code);
        .           	}
        .           
       70 ( 0.00%)  	if (stride)
        .           	{
      245 ( 0.00%)  		if (dynarray_init(&chunk->stride, sizeof(t_stride), CHUNK_SIZE * CHUNK_SIZE * 6 * 2))
61,987,261 ( 0.49%)  => ???:dynarray_init (35x)
        .           			return (ERR_MALLOC_FAILED);
        .           
      315 ( 0.00%)  		if ((code = generate_vertexs(env, chunk, x_start, z_start)) != ERR_NONE)
2,259,400,608 (17.94%)  => src/generation/generation.c:generate_vertexs (35x)
        .           			return (code);
        .           	}
        .           
       35 ( 0.00%)  	return (ERR_NONE);
       70 ( 0.00%)  }
        .           
        .           // This function will be used to generate new chunks of terrain with different noise algorithms
        .           
        .           size_t	*stride_bytesize(void)
      108 ( 0.00%)  {
        .           	static size_t	bytesize = 0;
        .           
       36 ( 0.00%)  	return (&bytesize);
       72 ( 0.00%)  }
        .           
        .           unsigned char			gen_chunk(t_env *env, t_chunk *chunk, int x_start, int z_start, bool stride)
      350 ( 0.00%)  {
        .           	unsigned char	code;
        .           
      385 ( 0.00%)  	if ((code = generate_chunk_content(env, chunk, x_start, z_start, stride)) != ERR_NONE)
8,513,067,949 (67.58%)  => src/generation/generation.c:generate_chunk_content (35x)
        .           		return (code);
        .           
      280 ( 0.00%)  	*stride_bytesize() += sizeof(t_stride) * chunk->stride.nb_cells;
      210 ( 0.00%)  => src/generation/generation.c:stride_bytesize (35x)
       35 ( 0.00%)  	return (ERR_NONE);
       70 ( 0.00%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: src/generation/vertexs.c
--------------------------------------------------------------------------------
Ir                   

-- line 8 ----------------------------------------
          .             (byte & 0x10 ? '1' : '0'), \
          .             (byte & 0x08 ? '1' : '0'), \
          .             (byte & 0x04 ? '1' : '0'), \
          .             (byte & 0x02 ? '1' : '0'), \
          .             (byte & 0x01 ? '1' : '0')
          .           
          .           
          .           static int	switch_block_type(unsigned int z)
  2,882,752 ( 0.02%)  {
          .           	static const unsigned int	bounds[BTB_MAX][2] ={
          .           											{BTB_CAVE, BT_STONE},
          .           											{BTB_BEACH, BT_SAND},
          .           											{BTB_SOIL, BT_GROUND},
          .           											{BTB_PLAIN, BT_GRASS},
          .           											{BTB_MOUTAIN, BT_STONE},
          .           											{BTB_HIGH_MOUTAINS, BT_SNOW}
          .           											};
          .           
  8,310,685 ( 0.07%)  	for (unsigned int i = 0; i < BTB_MAX; i++)
 15,179,994 ( 0.12%)  		if (z < bounds[i][0])
  3,603,440 ( 0.03%)  			return (bounds[i][1]);
          .           
          .           	return (BT_WATER);
  1,441,376 ( 0.01%)  }
          .           
          .           unsigned char	push_plane(t_chunk *chunk, const vec3 plane[6], uint8_t normal, unsigned int y, float fall_size, bool side, bool water)
  8,915,731 ( 0.07%)  {
          .           	/*
          .           	const t_vt		vts_ccw[6] = {
          .           		(t_vt){1, fall_size},	// A
          .           		(t_vt){1, 0},			// B
          .           		(t_vt){0, 0},			// C
          .           
          .           		(t_vt){1, fall_size},	// D
          .           		(t_vt){0, 0},			// E
-- line 42 ----------------------------------------
-- line 51 ----------------------------------------
          .           		(t_vt){0, fall_size},	// F
          .           		(t_vt){0, 0},			// E
          .           	};
          .           	*/
          .           
          .           	t_stride		vertex;
          .           	uint8_t			block_type;
          .           
  3,252,817 ( 0.03%)  	block_type = water ? BT_WATER : switch_block_type(y);
 19,454,661 ( 0.15%)  => src/generation/vertexs.c:switch_block_type (458,607x)
          .           	// Addition of 6 vertexs plane to the mesh's data stride
 10,323,478 ( 0.08%)  	for (unsigned int i = 0; i < 6; i++)
          .           	{
 14,077,470 ( 0.11%)  		ft_memset(&vertex, 0, sizeof(t_stride));
115,435,254 ( 0.92%)  => ???:ft_memset (2,815,494x)
          .           
          .           
 15,143,818 ( 0.12%)  		block_type = (block_type == BT_GRASS && side) ? BT_GRASS_SIDE : block_type;
 14,080,067 ( 0.11%)  		block_type = (block_type == BT_SNOW && side) ? BT_SNOW_SIDE : block_type;
          .           		// Constuction of the vertex
152,036,676 ( 1.21%)  		vertex = (t_stride){(short)plane[i].x, 
 30,970,434 ( 0.25%)  							(short)plane[i].y,
 30,970,434 ( 0.25%)  							(short)plane[i].z,
 11,261,976 ( 0.09%)  							(uint8_t)i,
 11,261,976 ( 0.09%)  							(uint8_t)((int)fall_size),
 11,261,976 ( 0.09%)  							(uint8_t)normal,
  8,446,482 ( 0.07%)  							(uint8_t)block_type,
          .           							(uint8_t)0};
          .           
          .           		// Insertion of the vertex in the stride
 22,523,952 ( 0.18%)  		if (dynarray_push(&chunk->stride, &vertex, false))
799,725,012 ( 6.35%)  => ???:dynarray_push (2,815,494x)
          .           			return (ERR_MALLOC_FAILED);
          .           	}
    469,249 ( 0.00%)  	return (ERR_NONE);
  2,346,245 ( 0.02%)  }
          .           
          .           unsigned char	generate_top_plane(t_chunk *chunk, int x, int y, int z, vec3 top_plane[6])
  1,413,351 ( 0.01%)  {
          .           	vec3			a, b, c, d;
          .           
          .           	// Cube's top plane ABCD points
  1,727,429 ( 0.01%)  	a = (vec3){x, y, (z + 1)};
  2,041,507 ( 0.02%)  	b = (vec3){(x + 1), y, (z + 1)};
  1,413,351 ( 0.01%)  	c = (vec3){x, y, z};
  1,727,429 ( 0.01%)  	d = (vec3){(x + 1), y, z};
          .           
          .           	// ccw
    785,195 ( 0.01%)  	top_plane[0] = c;
    942,234 ( 0.01%)  	top_plane[1] = a;
    942,234 ( 0.01%)  	top_plane[2] = b;
    942,234 ( 0.01%)  	top_plane[3] = c;
    942,234 ( 0.01%)  	top_plane[4] = b;
    942,234 ( 0.01%)  	top_plane[5] = d;
          .           
  1,570,390 ( 0.01%)  	return (push_plane(chunk, top_plane, N_UP, y, 1.0f, false, false));
444,825,081 ( 3.53%)  => src/generation/vertexs.c:push_plane (157,039x)
    314,078 ( 0.00%)  }
          .           
          .           unsigned char	generate_fall(t_chunk *chunk, vec3 a, vec3 b, unsigned int index, unsigned int y, float depth)
  5,729,792 ( 0.05%)  {
  8,443,904 ( 0.07%)  	const vec3	c = vec_add(a, vec_fmult((vec3){0, -1.0f, 0}, depth));
  9,951,744 ( 0.08%)  => ???:vec_add (301,568x)
  8,142,336 ( 0.06%)  => ???:vec_fmult (301,568x)
  8,443,904 ( 0.07%)  	const vec3	d = vec_add(b, vec_fmult((vec3){0, -1.0f, 0}, depth));
  9,951,744 ( 0.08%)  => ???:vec_add (301,568x)
  8,142,336 ( 0.06%)  => ???:vec_fmult (301,568x)
          .           
  7,237,632 ( 0.06%)  	const vec3	side_plane_ccw[6]	= {c, a, b, c, b, d};
          .           	// apparement Ã  n'utiliser que quand c'est left side
  7,237,632 ( 0.06%)  	const vec3	side_plane_cw[6]	= {c, b, a, c, d, b};
          .           
  3,992,626 ( 0.03%)  	return (push_plane(chunk, index == N_WEST ? side_plane_cw : side_plane_ccw,
805,830,701 ( 6.40%)  => src/generation/vertexs.c:push_plane (301,568x)
          .           		index, y, depth, true, false));
  1,507,840 ( 0.01%)  }
          .           
          .           unsigned char	generate_deep_fall(t_chunk *chunk, vec3 a, vec3 b, unsigned int index, unsigned int offset, unsigned int y)
  2,151,180 ( 0.02%)  {
          .           	unsigned char	code;
          .           	uint8_t			prev_bt;
    126,540 ( 0.00%)  	unsigned int	n = 0;
    253,080 ( 0.00%)  	float			fall_size = 0.0f;
          .           
    888,333 ( 0.01%)  	while (n < offset)
          .           	{
    254,782 ( 0.00%)  		fall_size = 0.0f;
    636,955 ( 0.01%)  		prev_bt = switch_block_type(y - n);
  5,820,324 ( 0.05%)  => src/generation/vertexs.c:switch_block_type (127,391x)
  1,853,911 ( 0.01%)  		while (n < offset && prev_bt == switch_block_type(y - n))
  6,143,262 ( 0.05%)  => src/generation/vertexs.c:switch_block_type (134,690x)
          .           		{
    535,356 ( 0.00%)  			fall_size += 1.0f;
    133,839 ( 0.00%)  			n++;
          .           		}
          .           
    382,173 ( 0.00%)  		if (n < offset)
      9,361 ( 0.00%)  			fall_size += (float)(offset - n);
          .           
  2,293,038 ( 0.02%)  		if ((code = generate_fall(chunk, a, b, index, y, fall_size)))
368,643,075 ( 2.93%)  => src/generation/vertexs.c:generate_fall (127,391x)
          .           			return (code);
          .           	}
    126,540 ( 0.00%)  	return (ERR_NONE);
    379,620 ( 0.00%)  }
          .           
          .           unsigned char	generate_side_plane(t_chunk *chunk, uint8_t **hmap, int x, int y, int z, unsigned int size, vec3 top_plane[6])
  2,150,400 ( 0.02%)  {
          .           	unsigned char	code;
  1,146,880 ( 0.01%)  	const int		neighbours[4][2] =	{{0, 1},
          .           										 {0, -1},
          .           										 {1, 0},
          .           										 {-1, 0}};
          .           	// Based on cbacbd order
    573,440 ( 0.00%)  	const uint8_t	fall_planes[4][2] =	{{2, 1},
          .           										 {0, 5},
          .           										 {2, 5},
          .           										 {1, 0}};
          .           	vec3			a, b;
          .           	int				n_x, n_z;
          .           	int				offset;
          .           
  2,293,760 ( 0.02%)  	for (unsigned int i = 0; i < PO_MAX; i++)
          .           	{
  2,867,200 ( 0.02%)  		n_x = x + neighbours[i][0];
  2,867,200 ( 0.02%)  		n_z = z + neighbours[i][1];
          .           	
  5,698,560 ( 0.05%)  		if (n_x < 0 || n_x >= (int)size || n_z < 0 || n_z >= (int)size
  9,031,680 ( 0.07%)  			|| (offset = y - hmap[n_x][n_z]) <= 0)
    446,900 ( 0.00%)  			continue ;
          .           
  1,771,560 ( 0.01%)  		a = top_plane[fall_planes[i][0]];
  1,771,560 ( 0.01%)  		b = top_plane[fall_planes[i][1]];
          .           
  2,281,095 ( 0.02%)  		if ((offset == 1 && (code = generate_fall(chunk, a, b, i, y, 1.0f)))
340,123,386 ( 2.70%)  => src/generation/vertexs.c:generate_fall (119,295x)
  2,024,640 ( 0.02%)  			|| (code = generate_deep_fall(chunk, a, b, i, offset, y)))
390,631,369 ( 3.10%)  => src/generation/vertexs.c:generate_deep_fall (126,540x)
          .           			return (code);
          .           	}
    143,360 ( 0.00%)  	return (ERR_NONE);
    716,800 ( 0.01%)  }
          .           
          .           unsigned char	generate_bottom_plane(t_chunk *chunk, int x, int y, int z, vec3 top_plane[6])
          .           {
          .           	(void)chunk;
          .           	(void)x;
          .           	(void)y;
          .           	(void)z;
          .           	(void)top_plane;
-- line 186 ----------------------------------------

--------------------------------------------------------------------------------
-- Auto-annotated source: src/generation/caves.c
--------------------------------------------------------------------------------
Ir                     

            .           #include "main.h"
            .           
            .           static	uint8_t	***allocate_cave_map(unsigned int size)
           96 ( 0.00%)  {
            .           	uint8_t	***new;
            .           
           80 ( 0.00%)  	if (!(new = (uint8_t***)malloc(sizeof(uint8_t**) * CHUNK_SIZE)))
        2,792 ( 0.00%)  => ???:0x000000000011e550 (16x)
            .           		return (NULL);
            .           
        3,136 ( 0.00%)  	for (unsigned int i = 0; i < CHUNK_SIZE; i++)
            .           	{
       12,288 ( 0.00%)  		if (!(new[i] = (uint8_t**)malloc(sizeof(uint8_t*) * size)))
      220,930 ( 0.00%)  => ???:0x000000000011e550 (1,024x)
            .           			return (NULL);
            .           
      136,192 ( 0.00%)  		for (unsigned int j = 0; j < size; j++)
            .           		{
      458,752 ( 0.00%)  			if (!(new[i][j] = (uint8_t*)malloc(sizeof(uint8_t) * CHUNK_SIZE)))
    7,228,451 ( 0.06%)  => ???:0x000000000011e550 (32,768x)
            .           				return (NULL);
      425,984 ( 0.00%)  			ft_memset(new[i][j], 0, sizeof(uint8_t) * CHUNK_SIZE);
    3,407,872 ( 0.03%)  => ???:ft_memset (32,768x)
            .           		}
            .           
            .           	}
           16 ( 0.00%)  	return (new);
           48 ( 0.00%)  }
            .           
          300 ( 0.00%)  float randbycoords(int x, int y) {
           60 ( 0.00%)  	x += INT_MAX / 2;
           60 ( 0.00%)  	y += INT_MAX / 2;
            .             /* mix around the bits in x: */
          240 ( 0.00%)    x = x * 3266489917 + 374761393;
          420 ( 0.00%)    x = (x << 17) | (x >> 15);
            .           
            .             /* mix around the bits in y and mix those into x: */
          300 ( 0.00%)    x += y * 3266489917;
            .           
            .             /* Give x a good stir: */
          180 ( 0.00%)    x *= 668265263;
          180 ( 0.00%)    x ^= x >> 15;
          180 ( 0.00%)    x *= 2246822519;
          180 ( 0.00%)    x ^= x >> 13;
          180 ( 0.00%)    x *= 3266489917;
          180 ( 0.00%)    x ^= x >> 16;
            .           
            .             /* trim the result and scale it to a float in [0,1): */
          360 ( 0.00%)    return (x & 0x00ffffff) * (1.0f / 0x1000000);
          120 ( 0.00%)  }
            .           
            .           unsigned char	init_worley_points(t_env *env, t_chunk *chunk, unsigned int size)
          420 ( 0.00%)  {
            .           	(void)env;
            .           
          900 ( 0.00%)  	int	seed = (int)(*map_seed() * randbycoords(chunk->x_start, chunk->z_start));
        2,940 ( 0.00%)  => src/generation/caves.c:randbycoords (60x)
          602 ( 0.00%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/singletons.c:map_seed (60x)
            .           
          180 ( 0.00%)  	srand(seed);
      410,880 ( 0.00%)  => ???:0x000000000011e6c0 (60x)
            .           
          780 ( 0.00%)  	for (unsigned int i = 0; i < NB_WORLEY_POINTS; i++)
            .           	{
        2,700 ( 0.00%)  		chunk->wpoints[i].x = rand() % CHUNK_SIZE;
       10,800 ( 0.00%)  => ???:0x000000000011e780 (180x)
        2,340 ( 0.00%)  		chunk->wpoints[i].y = rand() % size;
       10,800 ( 0.00%)  => ???:0x000000000011e780 (180x)
        2,700 ( 0.00%)  		chunk->wpoints[i].z = rand() % CHUNK_SIZE;
       10,800 ( 0.00%)  => ???:0x000000000011e780 (180x)
            .           
        3,420 ( 0.00%)  		chunk->wpoints[i].x += chunk->x_start;
            .           		//chunk->wpoints[i].y += CAVE_DEPTH;
        3,420 ( 0.00%)  		chunk->wpoints[i].z += chunk->z_start;
            .           	}
           60 ( 0.00%)  	return (ERR_NONE);
          120 ( 0.00%)  }
            .           
            .           static int	dist(t_3dpoint a, t_3dpoint b)
  272,761,245 ( 2.17%)  {
  327,313,494 ( 2.60%)  	int		dx = b.x - a.x;
  327,313,494 ( 2.60%)  	int		dy = b.y - a.y;
  327,313,494 ( 2.60%)  	int		dz = b.z - a.z;
            .           
  490,970,241 ( 3.90%)  	return (abs(dx * dx) + abs(dy * dy) + abs(dz * dz));
  109,104,498 ( 0.87%)  }
            .           /*
            .           void	sort_distances(float arr[NB_WORLEY_POINTS], int n)
            .           {
            .               int i, key, j;
            .               for (i = 1; i < n; i++)
            .               {
            .                   key = arr[i];
            .                   j = i - 1;
-- line 84 ----------------------------------------
-- line 89 ----------------------------------------
            .                       j = j - 1;
            .                   }
            .                   arr[j + 1] = key;
            .               }
            .           }*/
            .           
            .           
            .           static void				get_three_lowests(float distances[NB_WORLEY_POINTS * 9], vec3 *res)
   10,102,265 ( 0.08%)  {
            .           	float	tmp;
            .           	float	d;
            .           
   18,184,077 ( 0.14%)  	*res = (vec3){INFINITY, INFINITY, INFINITY};
  171,738,505 ( 1.36%)  	for (int i = 0; i < NB_WORLEY_POINTS * 9; i++)
            .           	{
  381,865,617 ( 3.03%)  		d = distances[i];
            .           
  218,208,924 ( 1.73%)  		if (d < res->z)
   60,582,513 ( 0.48%)  			res->z = d;
            .           
  327,313,386 ( 2.60%)  		if (res->z < res->y)
            .           		{
   50,386,809 ( 0.40%)  			tmp = res->y;
   67,182,412 ( 0.53%)  			res->y = res->z;
   50,386,809 ( 0.40%)  			res->z = tmp;
            .           		}
            .           
  327,313,386 ( 2.60%)  		if (res->y < res->x)
            .           		{
   33,670,545 ( 0.27%)  			tmp = res->x;
   78,564,605 ( 0.62%)  			res->x = res->y; res->y = tmp;
            .           		}
            .           	}
    8,081,812 ( 0.06%)  }
            .           
            .           static unsigned char	get_points(t_env *env, t_chunk *chunk, t_3dpoint points[NB_WORLEY_POINTS * 9])
           96 ( 0.00%)  {
            .           	t_chunk		*tmp;
            .           	int			current_x, current_z;
           16 ( 0.00%)  	int			index = 0;
            .           
            .           	(void)chunk;
            .           //	printf("--------\n");
          304 ( 0.00%)  	for (int x = 0; x < SQUARE_SIZE; x++)
        1,520 ( 0.00%)  		for (int z = 0; z < SQUARE_SIZE; z++)
            .           		{
       14,500 ( 0.00%)  			if (abs(env->model.chunks[x][z].x_start - chunk->x_start) <= CHUNK_SIZE
        7,920 ( 0.00%)  				&& abs(env->model.chunks[x][z].z_start - chunk->z_start) <= CHUNK_SIZE)
            .           			{
        1,690 ( 0.00%)  				for (int i = 0; i < NB_WORLEY_POINTS; i++)
            .           				{
       12,480 ( 0.00%)  					points[index++] = env->model.chunks[x][z].wpoints[i];
            .           //					printf("%d %d %d | %d cells\n", env->model.chunks[x][z].wpoints[i].x, env->model.chunks[x][z].wpoints[i].y, env->model.chunks[x][z].wpoints[i].z, points->nb_cells);
            .           					//if (dynarray_push(points, &env->model.chunks[x][z].wpoints[i], false))
            .           					//	return (ERR_MALLOC_FAILED);
            .           				}
            .           			}
            .           		}
            .           //	printf("--------\n");
            .           //	fflush(stdout);
           16 ( 0.00%)  	return (ERR_NONE);
           32 ( 0.00%)  }
            .           
            .           static unsigned char	worley_noise(t_env *env, t_chunk *chunk, t_3dpoint points[NB_WORLEY_POINTS * 9], float distances[NB_WORLEY_POINTS * 9], t_3dpoint current, uint8_t *res)
   26,265,902 ( 0.21%)  {
            .           	t_3dpoint	*wpoint;
    4,040,908 ( 0.03%)  	float		min_dist = INFINITY;
            .           	float		distance;
            .           	vec3		lowests;
            .           
            .           	(void)env;
   10,102,270 ( 0.08%)  	current.x += chunk->x_start;
   10,102,270 ( 0.08%)  	current.z += chunk->z_start;
  171,738,563 ( 1.36%)  	for (int i = 0; i < NB_WORLEY_POINTS * 9; i++)
            .           	{
1,800,224,241 (14.29%)  		distances[i] = dist(points[i], current);
1,854,776,466 (14.72%)  => src/generation/caves.c:dist (54,552,250x)
  872,835,984 ( 6.93%)  		min_dist = fmin(distances[i], min_dist);
  436,417,992 ( 3.46%)  => ???:0x000000000011e580 (54,552,249x)
            .           	}
            .           
   10,102,265 ( 0.08%)  	get_three_lowests(distances, &lowests);
1,803,581,665 (14.32%)  => src/generation/caves.c:get_three_lowests (2,020,453x)
            .           
   10,102,265 ( 0.08%)  	if (lowests.x / lowests.z > WORLEY_THRESHOLD)
       50,722 ( 0.00%)  		*res = BT_STONE;
            .           
   10,102,265 ( 0.08%)  	ft_memset(distances, 0, sizeof(float) * NB_WORLEY_POINTS * 9);
  389,947,429 ( 3.10%)  => ???:ft_memset (2,020,453x)
            .           
    2,020,453 ( 0.02%)  	return (ERR_NONE);
   10,102,265 ( 0.08%)  }
            .           
            .           unsigned char			generate_cave_map(t_env *env, t_chunk *chunk, unsigned int size)
          160 ( 0.00%)  {
            .           	float			distances[NB_WORLEY_POINTS * 9];
            .           	t_3dpoint		points[NB_WORLEY_POINTS * 9];
            .           	unsigned char	code;
            .           
          144 ( 0.00%)  	if (!(chunk->cave_map = allocate_cave_map(size))
   11,896,637 ( 0.09%)  => src/generation/caves.c:allocate_cave_map (16x)
          128 ( 0.00%)  		|| get_points(env, chunk, points))
       38,574 ( 0.00%)  => src/generation/caves.c:get_points (16x)
            .           		return (ERR_MALLOC_FAILED);
            .           
        3,022 ( 0.00%)  	for (unsigned int x = 0; x < CHUNK_SIZE; x++)
            .           	{
      131,211 ( 0.00%)  		for (unsigned int y = 0; y < size; y++)
            .           		{
    6,187,639 ( 0.05%)  			for (unsigned int z = 0; z < CHUNK_SIZE; z++)
            .           			{
            .           				//printf("%d/%d  %d/%d  %d/%d\n", x, CHUNK_SIZE, y, size, z, CHUNK_SIZE);
            .           				//printf("%p\n", &chunk->cave_map[x][y][z]);
   72,736,341 ( 0.58%)  				if ((code = worley_noise(env, chunk, points, distances, (t_3dpoint){x, y, z}, &chunk->cave_map[x][y][z])))
7,422,513,925 (58.93%)  => src/generation/caves.c:worley_noise (2,020,454x)
            .           					return (code);
            .           			}
            .           		}
            .           	}
            .           
            .           	/*
            .           	for (unsigned int x = 0; x < size; x++)
            .           	{
-- line 204 ----------------------------------------
-- line 212 ----------------------------------------
            .           			printf("\n");
            .           		}
            .           		printf("\n");
            .           		usleep(100000);
            .           	}
            .           
            .           	fflush(stdout);*/
            .           
           15 ( 0.00%)  	return (ERR_NONE);
           75 ( 0.00%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: src/generation/water.c
--------------------------------------------------------------------------------
Ir                 

        .           # include "main.h"
        .           
        .           const uint8_t	third = (BTB_BEACH - BTB_CAVE) / 3;
        .           const uint8_t	water_level = BTB_BEACH - third;
        .           
        .           static bool		is_water(uint8_t y)
  614,400 ( 0.00%)  {
  368,640 ( 0.00%)  	return (y < water_level);
  245,760 ( 0.00%)  }
        .           
        .           static unsigned char	pour_water(t_chunk *chunk, unsigned int x, unsigned int y, unsigned int z)
  117,062 ( 0.00%)  {
        .           	vec3			top_plane[6];
        .           	float			xx, yy, zz;
        .           	vec3			a, b, c, d;
        .           	unsigned char	code;
        .           
   74,494 ( 0.00%)  	xx = x;
   74,494 ( 0.00%)  	yy = y;
   74,494 ( 0.00%)  	zz = z;
        .           
        .           	// Cube's top plane ABCD points
  138,346 ( 0.00%)  	a = (vec3){xx, yy, (z + 1)};
  212,840 ( 0.00%)  	b = (vec3){(x + 1), yy, (z + 1)};
   63,852 ( 0.00%)  	c = (vec3){xx, yy, zz};
  138,346 ( 0.00%)  	d = (vec3){(x + 1), yy, zz};
        .           
   42,568 ( 0.00%)  	top_plane[0] = c;
   42,568 ( 0.00%)  	top_plane[1] = a;
   42,568 ( 0.00%)  	top_plane[2] = b;
   42,568 ( 0.00%)  	top_plane[3] = c;
   42,568 ( 0.00%)  	top_plane[4] = b;
   42,568 ( 0.00%)  	top_plane[5] = d;
        .           
  106,420 ( 0.00%)  	return (push_plane(chunk, top_plane, N_UP, y, 1.0f, false, true));
31,301,926 ( 0.25%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/vertexs.c:push_plane (10,642x)
   53,210 ( 0.00%)  }
        .           
        .           unsigned char			generate_water(t_chunk *chunk)
      150 ( 0.00%)  {
        .           	unsigned char	code;
        .           	unsigned int	y;
        .           
    5,880 ( 0.00%)  	for (unsigned int x = 0; x < CHUNK_SIZE; x++)
  376,320 ( 0.00%)  		for (unsigned int z = 0; z < CHUNK_SIZE; z++)
        .           		{
1,351,680 ( 0.01%)  			y = chunk->surface_hmap[x][z];
  971,404 ( 0.01%)  			if (is_water(y) && (code = pour_water(chunk, chunk->x_start + x, water_level - 1, chunk->z_start + z)))
32,610,892 ( 0.26%)  => src/generation/water.c:pour_water (10,642x)
1,228,800 ( 0.01%)  => src/generation/water.c:is_water (122,880x)
        .           				return (code);
        .           		}
       30 ( 0.00%)  	return (ERR_NONE);
       60 ( 0.00%)  }

--------------------------------------------------------------------------------
-- Auto-annotated source: src/singletons.c
--------------------------------------------------------------------------------
Ir                  

         .           #include "main.h"
         .           
         .           int		*map_seed(void)
10,322,103 ( 0.08%)  {
         .           	static int seed = -1;
         .           
10,322,103 ( 0.08%)  	if (seed == -1)
         2 ( 0.00%)  		seed = rand();
        60 ( 0.00%)  => ???:0x000000000011e780 (1x)
         .           
 3,440,701 ( 0.03%)  	return (&seed);
 6,881,402 ( 0.05%)  }
         .           

--------------------------------------------------------------------------------
-- Auto-annotated source: src/generation/noise.c
--------------------------------------------------------------------------------
Ir                  

-- line 11 ----------------------------------------
         .                                228,108,245,148,140,40,35,195,38,58,65,207,215,253,65,85,208,76,62,3,237,55,89,
         .                                232,50,217,64,244,157,199,121,252,90,17,212,203,149,152,140,187,234,177,73,174,
         .                                193,100,192,143,97,53,145,135,19,103,13,90,135,151,199,91,239,247,33,39,145,
         .                                101,120,99,3,186,86,99,41,237,203,111,79,220,135,158,42,30,154,120,67,87,167,
         .                                135,176,183,191,253,115,184,21,233,58,129,233,142,39,128,211,118,137,139,255,
         .                                114,20,218,113,154,27,127,246,250,1,8,198,250,209,92,222,173,21,88,102,219};
         .           
         .           static int noise2(int x, int y)
20,643,840 ( 0.16%)  {
48,168,960 ( 0.38%)      int tmp = hash[(y + *map_seed()) % 256];
30,965,760 ( 0.25%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/singletons.c:map_seed (3,440,640x)
41,287,680 ( 0.33%)      return hash[(tmp + x) % 256];
 6,881,280 ( 0.05%)  }
         .           
         .           static float lin_inter(float x, float y, float s)
15,482,880 ( 0.12%)  {
10,321,920 ( 0.08%)      return x + s * (y-x);
 5,160,960 ( 0.04%)  }
         .           
         .           static float smooth_inter(float x, float y, float s)
18,063,360 ( 0.14%)  {
38,707,200 ( 0.31%)      return lin_inter(x, y, s * s * (3-2*s));
30,965,760 ( 0.25%)  => src/generation/noise.c:lin_inter (2,580,480x)
 5,160,960 ( 0.04%)  }
         .           
         .           static float noise2d(float x, float y)
 5,160,960 ( 0.04%)  {
 2,580,480 ( 0.02%)      int x_int = x;
 2,580,480 ( 0.02%)      int y_int = y;
 4,300,800 ( 0.03%)      float x_frac = x - x_int;
 4,300,800 ( 0.03%)      float y_frac = y - y_int;
 5,160,960 ( 0.04%)      int s = noise2(x_int, y_int);
36,986,880 ( 0.29%)  => src/generation/noise.c:noise2 (860,160x)
 6,021,120 ( 0.05%)      int t = noise2(x_int+1, y_int);
36,986,880 ( 0.29%)  => src/generation/noise.c:noise2 (860,160x)
 6,021,120 ( 0.05%)      int u = noise2(x_int, y_int+1);
36,986,880 ( 0.29%)  => src/generation/noise.c:noise2 (860,160x)
 6,881,280 ( 0.05%)      int v = noise2(x_int+1, y_int+1);
36,986,880 ( 0.29%)  => src/generation/noise.c:noise2 (860,160x)
10,321,920 ( 0.08%)      float low = smooth_inter(s, t, x_frac);
30,965,760 ( 0.25%)  => src/generation/noise.c:smooth_inter (860,160x)
10,321,920 ( 0.08%)      float high = smooth_inter(u, v, x_frac);
30,965,760 ( 0.25%)  => src/generation/noise.c:smooth_inter (860,160x)
 6,021,120 ( 0.05%)      return smooth_inter(low, high, y_frac);
30,965,760 ( 0.25%)  => src/generation/noise.c:smooth_inter (860,160x)
 1,720,320 ( 0.01%)  }
         .           
         .           float perlin2d_a(float x, float y, float freq, int depth) // 0.1f, 4.0f
 1,146,880 ( 0.01%)  {
   430,080 ( 0.00%)      float xa = x*freq;
   430,080 ( 0.00%)      float ya = y*freq;
   286,720 ( 0.00%)      float amp = 1.0;
   286,720 ( 0.00%)      float fin = 0;
   286,720 ( 0.00%)      float div = 0.0;
         .           
         .               int i;
 4,157,440 ( 0.03%)      for(i=0; i<depth; i++)
         .               {
 5,160,960 ( 0.04%)          div += 256 * amp;
 9,461,760 ( 0.08%)          fin += noise2d(xa, ya) * amp;
312,238,080 ( 2.48%)  => src/generation/noise.c:noise2d (860,160x)
 3,440,640 ( 0.03%)          amp /= 2;
 2,580,480 ( 0.02%)          xa *= 2;
 2,580,480 ( 0.02%)          ya *= 2;
         .               }
         .           
   286,720 ( 0.00%)      return fin/div;
   286,720 ( 0.00%)  }
         .           
         .           ///////////////////////////////////

--------------------------------------------------------------------------------
-- Auto-annotated source: src/generation/height_map.c
--------------------------------------------------------------------------------
Ir                 

        .           #include "main.h"
        .           
        .           static	uint8_t	**allocate_height_map(unsigned int size)
      210 ( 0.00%)  {
        .           	uint8_t	**new;
        .           
      245 ( 0.00%)  	if (!(new = (uint8_t**)malloc(sizeof(uint8_t*) * size)))
   19,476 ( 0.00%)  => ???:0x000000000011e550 (35x)
        .           		return (NULL);
        .           
    9,135 ( 0.00%)  	for (unsigned int i = 0; i < size; i++)
        .           	{
   24,640 ( 0.00%)  		if (!(new[i] = (uint8_t*)malloc(sizeof(uint8_t) * size)))
  500,646 ( 0.00%)  => ???:0x000000000011e550 (2,240x)
        .           			return (NULL);
   20,160 ( 0.00%)  		ft_memset(new[i], 0, sizeof(uint8_t) * size);
  232,960 ( 0.00%)  => ???:ft_memset (2,240x)
        .           	}
        .           
       35 ( 0.00%)  	return (new);
      105 ( 0.00%)  }
        .           
        .           uint8_t	**generate_height_map(t_biome_params params, int x_start, int z_start, unsigned int size, unsigned char offset)
      560 ( 0.00%)  {
        .           	uint8_t	**hmap;
        .           	uint8_t	height;
        .           	unsigned int	xbound, zbound;
        .           
      210 ( 0.00%)  	if (!(hmap = allocate_height_map(size)))
  807,612 ( 0.01%)  => src/generation/height_map.c:allocate_height_map (35x)
        .           		return (NULL);
        .           
      140 ( 0.00%)  	xbound = x_start + size;
      140 ( 0.00%)  	zbound = z_start + size;
        .           
    9,170 ( 0.00%)  	for (unsigned int x = x_start; x < xbound; x++)
  586,880 ( 0.00%)  		for (unsigned int z = z_start; z < zbound; z++)
        .           		{
4,300,800 ( 0.03%)  			height = (uint8_t)(perlin2d_a((float)x, (float)z, params.frequency, params.depth) * size);
343,060,480 ( 2.72%)  => /mnt/nfs/homes/gedemais/Desktop/projects/ft_vox/src/generation/noise.c:perlin2d_a (143,360x)
2,437,120 ( 0.02%)  			hmap[x - x_start][z - z_start] = height + offset;
        .           		}
       35 ( 0.00%)  	return (hmap);
       70 ( 0.00%)  }

--------------------------------------------------------------------------------
The following files chosen for auto-annotation could not be found:
--------------------------------------------------------------------------------
  ./elf/../sysdeps/x86_64/dl-machine.h
  ./elf/./elf/dl-lookup.c
  ./elf/./elf/do-rel.h
  ./malloc/./malloc/malloc.c
  ./math/../sysdeps/x86_64/fpu/s_fmin.S
  ./nptl/./nptl/pthread_mutex_lock.c
  ./nptl/./nptl/pthread_mutex_unlock.c
  ./string/../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S
  ./string/../sysdeps/x86_64/multiarch/memset-vec-unaligned-erms.S
  ./string/../sysdeps/x86_64/multiarch/strcmp-avx2.S
  ./string/../sysdeps/x86_64/multiarch/strlen-avx2.S

--------------------------------------------------------------------------------
Ir                     
--------------------------------------------------------------------------------
9,042,911,520 (71.79%)  events annotated

